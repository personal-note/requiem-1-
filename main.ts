namespace SpriteKind {
    export const Bolt = SpriteKind.create()
    export const Gooper = SpriteKind.create()
    export const Charger = SpriteKind.create()
    export const Drone = SpriteKind.create()
    export const EMPI = SpriteKind.create()
    export const F1 = SpriteKind.create()
    export const F2 = SpriteKind.create()
    export const F3 = SpriteKind.create()
    export const F4 = SpriteKind.create()
    export const F5 = SpriteKind.create()
    export const Boss = SpriteKind.create()
    export const bullet = SpriteKind.create()
    export const boom = SpriteKind.create()
    export const cannon = SpriteKind.create()
    export const combatform = SpriteKind.create()
}
namespace StatusBarKind {
    export const shield = StatusBarKind.create()
    export const power = StatusBarKind.create()
}
function spawnboss () {
	
}
function spawnmboss3 () {
	
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile6`, function (sprite, location) {
    story.startCutscene(function () {
        Achievements.showAchievement(
        "SECRET EASTER EGG",
        "Perform the secret glitch that shows you my name",
        1,
        img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . 5 5 5 5 5 5 . . . . . 
            . . . . 5 9 5 9 5 9 5 9 . . . . 
            . . . 5 9 5 9 5 9 5 9 5 9 . . . 
            . . . 5 5 5 5 5 5 5 5 5 5 . . . 
            . . . 3 3 3 3 3 3 3 3 3 3 . . . 
            . . 5 5 5 5 5 5 5 5 5 5 5 5 . . 
            . . 5 7 5 7 5 7 5 7 5 7 5 7 . . 
            . . 7 5 7 5 7 5 7 5 7 5 7 5 . . 
            . . 5 5 5 5 5 5 5 5 5 5 5 5 . . 
            . . 9 9 9 9 9 9 9 9 9 9 9 9 . . 
            . . 5 5 5 5 5 5 5 5 5 5 5 5 . . 
            . . . 3 5 3 5 3 5 3 5 3 5 . . . 
            . . . . 3 5 3 5 3 5 3 5 . . . . 
            . . . . . 5 5 5 5 5 5 . . . . . 
            `
        )
        story.printCharacterText("Somehow you reached this area. Unfortunately, you can't get back up. So have fun restarting the level!", "B i n k u s")
        playerhealth.value = 0
    })
    tiles.setTileAt(location, assets.tile`transparency16`)
})
function spawnplayer1 () {
    player1 = sprites.create(img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        .........c44444..........
        ........c45e111..........
        .......f54e1111..........
        .......ff4e5515..........
        ........cc4e151..........
        .........cc444c..........
        .......1bfcccff..........
        ......bb1bdccfff..f......
        .....1bbb1ffddffffff.....
        .....b1bbffffffffff......
        ......b1ccbccfffcbff22222
        ......cccbbcddffcbc......
        .......cbbbcddc.bcc......
        ........ccd5dcc..........
        ........5ccccc5..........
        .......fbbbbbbb..........
        ......fddddbbddd.........
        .....fdddcccccddd........
        ......d5cc...cc5dd.......
        ......ccc.....cccc.......
        ......bfb......bbf.......
        ......bfb......bbf.......
        .....bbbb......bbbb......
        .....cccc......cccc......
        `, SpriteKind.Player)
    controller.moveSprite(player1, 120, 0)
    scene.cameraFollowSprite(player1)
    playerhealth = statusbars.create(20, 4, StatusBarKind.Health)
    playerhealth.attachToSprite(player1)
    playerhealth.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
    playerhealth.setLabel("HP")
    character.loopFrames(
    player1,
    [img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......ccd5dcc...........
        .......5ccccc5...........
        ......fbbbbbbb...........
        .....fddddbbddd..........
        ....fdddcccccddd.........
        .....d5cc...cc5dd........
        .....ccc.....cccc........
        .....bfb......bbf........
        .....bfb......bbf........
        ....bbbb......bbbb.......
        ....cccc......cccc.......
        `],
    500,
    character.rule(Predicate.NotMoving, Predicate.FacingRight)
    )
    character.loopFrames(
    player1,
    [img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbbf......
        ..........dddbbddddf.....
        .........dddcccccdddf....
        ........dd5cc...cc5d.....
        ........cccc.....ccc.....
        ........fbb......bfb.....
        ........fbb......bfb.....
        .......bbbb......bbbb....
        .......cccc......cccc....
        `],
    500,
    character.rule(Predicate.NotMoving, Predicate.FacingLeft)
    )
    character.loopFrames(
    player1,
    [img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbddd..........
        ......fddccccddd.........
        ......fd5c..cc5dd........
        .......ccc...cccc........
        .......bfb....bbf........
        .......bfb....bbf........
        .......bbb....bbbb.......
        .......ccc....cccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......cdddddc...........
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbdd...........
        ......fddccccd...........
        ......fd5c.cc5...........
        .......ccc.ccc...........
        .......bbf.bbf...........
        .......bbfbbf............
        .......bbbbbb............
        .......cccccc............
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......ffdddbbd...........
        ......ffddcccd...........
        ......ffd5ccc5...........
        .......ccccccc...........
        ........bbbbf............
        .........bbfb............
        ........bbbbbb...........
        ........cccccc...........
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......cdddddc...........
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbdd...........
        ......fddccccd...........
        ......fd5c.cc5...........
        .......ccc.ccc...........
        .......bbf.bbf...........
        .......bbfbbf............
        .......bbbbbb............
        .......cccccc............
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbddd..........
        ......fddccccddd.........
        ......fd5c..cc5dd........
        .......ccc...cccc........
        .......bfb....bbf........
        .......bfb....bbf........
        .......bbb....bbbb.......
        .......ccc....cccc.......
        `],
    100,
    character.rule(Predicate.MovingRight, Predicate.Moving)
    )
    character.loopFrames(
    player1,
    [img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ..........dddbbdddf......
        .........dddccccddf......
        ........dd5cc..c5df......
        ........cccc...ccc.......
        ........fbb....bfb.......
        ........fbb....bfb.......
        .......bbbb....bbb.......
        .......cccc....ccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........cdddddc.......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ...........ddbbdddf......
        ...........dccccddf......
        ...........5cc.c5df......
        ...........ccc.ccc.......
        ...........fbb.fbb.......
        ............fbbfbb.......
        ............bbbbbb.......
        ............cccccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ...........dbbdddff......
        ...........dcccddff......
        ...........5ccc5dff......
        ...........ccccccc.......
        ............fbbbb........
        ............bfbb.........
        ...........bbbbbb........
        ...........cccccc........
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........cdddddc.......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ...........ddbbdddf......
        ...........dccccddf......
        ...........5cc.c5df......
        ...........ccc.ccc.......
        ...........fbb.fbb.......
        ............fbbfbb.......
        ............bbbbbb.......
        ............cccccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ..........dddbbdddf......
        .........dddccccddf......
        ........dd5cc..c5df......
        ........cccc...ccc.......
        ........fbb....bfb.......
        ........fbb....bfb.......
        .......bbbb....bbb.......
        .......cccc....ccc.......
        `],
    100,
    character.rule(Predicate.MovingLeft, Predicate.Moving)
    )
    character.loopFrames(
    player1,
    [img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbddd..........
        ......fddccccddd.........
        ......fd5c..cc5dd........
        .......ccc...cccc........
        .......bfb....bbf........
        .......bfb....bbf........
        .......bbb....bbbb.......
        .......ccc....cccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......cdddddc...........
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbdd...........
        ......fddccccd...........
        ......fd5c.cc5...........
        .......ccc.ccc...........
        .......bbf.bbf...........
        .......bbfbbf............
        .......bbbbbb............
        .......cccccc............
        `,img`
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......cdddddc...........
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbdd...........
        ......fddccccd...........
        ......fd5c.cc5...........
        .......ccc.ccc...........
        .......bbf.bbf...........
        .......bbfbbf............
        .......bbbbbb............
        .......cccccc............
        .........................
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......cdddddc...........
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbdd...........
        ......fddccccd...........
        ......fd5c.cc5...........
        .......ccc.ccc...........
        .......bbf.bbf...........
        .......bbfbbf............
        .......bbbbbb............
        .......cccccc............
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbddd..........
        ......fddccccddd.........
        ......fd5c..cc5dd........
        .......ccc...cccc........
        .......bfb....bbf........
        .......bfb....bbf........
        .......bbb....bbbb.......
        .......ccc....cccc.......
        `],
    200,
    character.rule(Predicate.Moving, Predicate.FacingRight)
    )
    character.loopFrames(
    player1,
    [img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ..........dddbbdddf......
        .........dddccccddf......
        ........dd5cc..c5df......
        ........cccc...ccc.......
        ........fbb....bfb.......
        ........fbb....bfb.......
        .......bbbb....bbb.......
        .......cccc....ccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........cdddddc.......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ...........ddbbdddf......
        ...........dccccddf......
        ...........5cc.c5df......
        ...........ccc.ccc.......
        ...........fbb.fbb.......
        ............fbbfbb.......
        ............bbbbbb.......
        ............cccccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........cdddddc.......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ...........ddbbdddf......
        ...........dccccddf......
        ...........5cc.c5df......
        ...........ccc.ccc.......
        ...........fbb.fbb.......
        ............fbbfbb.......
        ............bbbbbb.......
        ............cccccc.......
        .........................
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........cdddddc.......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ...........ddbbdddf......
        ...........dccccddf......
        ...........5cc.c5df......
        ...........ccc.ccc.......
        ...........fbb.fbb.......
        ............fbbfbb.......
        ............bbbbbb.......
        ............cccccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ..........dddbbdddf......
        .........dddccccddf......
        ........dd5cc..c5df......
        ........cccc...ccc.......
        ........fbb....bfb.......
        ........fbb....bfb.......
        .......bbbb....bbb.......
        .......cccc....ccc.......
        `],
    200,
    character.rule(Predicate.Moving, Predicate.FacingLeft)
    )
}
function spawnmboss2 () {
	
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    ammo += -8
    ammobar.value += -8
    if (ammo > 0) {
        if (character.matchesRule(player1, character.rule(Predicate.NotMoving, Predicate.FacingLeft))) {
            animation.runImageAnimation(
            player1,
            [img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ...5.......151e4cc.......
                ...........c444cc........
                ..4.5......ffcccfb1......
                ....45.f..fffccdb1bb.....
                .....4ffffffddff1bbb1....
                .....5.ffffffffffbb1b....
                222422ffbcfffccbcc1b.....
                ....5..cbcffddcbbccc.....
                ..5....ccb.cddcbbbc......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbbf......
                ..........dddbbddddf.....
                .........dddcccccdddf....
                ........dd5cc...cc5d.....
                ........cccc.....ccc.....
                ........fbb......bfb.....
                ........fbb......bfb.....
                .......bbbb......bbbb....
                .......cccc......cccc....
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                .....5.....151e4cc.......
                ...5.......c444cc........
                ..4..4.....cffccfb1......
                ......5.f..fffcdb1bb.....
                ......4ffffffddf1bbb1....
                .....4..fffffffffbb1b....
                2224252ffbcfffccbc1b.....
                ........cbcffddcbccc.....
                ....5...ccbcdddcbbc......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbbf......
                ..........dddbbddddf.....
                .........dddcccccdddf....
                ........dd5cc...cc5d.....
                ........cccc.....ccc.....
                ........fbb......bfb.....
                ........fbb......bfb.....
                .......bbbb......bbbb....
                .......cccc......cccc....
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ...5.......151e4cc.......
                .....4.....c444cc........
                ...........ffcccfb1......
                .......f..fffccdb1bb.....
                ......ffffffddff1bbb1....
                ..4....ffffffffffbb1b....
                222222ffbcfffccbcc1b.....
                ....5..cbcffddcbbccc.....
                ..5....ccb.cddcbbbc......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbbf......
                ..........dddbbddddf.....
                .........dddcccccdddf....
                ........dd5cc...cc5d.....
                ........cccc.....ccc.....
                ........fbb......bfb.....
                ........fbb......bfb.....
                .......bbbb......bbbb....
                .......cccc......cccc....
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ...........151e4cc.......
                ...........c444cc........
                ...........ffcccfb1......
                .......f..fffccdb1bb.....
                ......ffffffddff1bbb1....
                .......ffffffffffbb1b....
                222222ffcbfffccbcc1b.....
                ........cbffddcbbccc.....
                ........ccbcddcbbbc......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbbf......
                ..........dddbbddddf.....
                .........dddcccccdddf....
                ........dd5cc...cc5d.....
                ........cccc.....ccc.....
                ........fbb......bfb.....
                ........fbb......bfb.....
                .......bbbb......bbbb....
                .......cccc......cccc....
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ...........151e4cc.......
                ...........c444cc........
                ...........ffcccfb1......
                .......f..fffccdb1bb.....
                ......ffffffddff1bbb1....
                .......ffffffffffbb1b....
                222222ffbcfffccbcc1b.....
                .......cbcffddcbbccc.....
                .......ccb.cddcbbbc......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbbf......
                ..........dddbbddddf.....
                .........dddcccccdddf....
                ........dd5cc...cc5d.....
                ........cccc.....ccc.....
                ........fbb......bfb.....
                ........fbb......bfb.....
                .......bbbb......bbbb....
                .......cccc......cccc....
                `],
            100,
            false
            )
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, -150, 0)
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, -150, -10)
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, -150, 10)
            shell.setKind(SpriteKind.bullet)
        } else if (character.matchesRule(player1, character.rule(Predicate.NotMoving, Predicate.FacingRight))) {
            animation.runImageAnimation(
            player1,
            [img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                .......cc4e151.......5...
                ........cc444c...........
                ......1bfcccff......5.4..
                .....bb1bdccfff..f.54....
                ....1bbb1ffddffffff4.....
                ....b1bbffffffffff.5.....
                .....b1ccbccfffcbff224222
                .....cccbbcddffcbc..5....
                ......cbbbcddc.bcc....5..
                .......ccd5dcc...........
                .......5ccccc5...........
                ......fbbbbbbb...........
                .....fddddbbddd..........
                ....fdddcccccddd.........
                .....d5cc...cc5dd........
                .....ccc.....cccc........
                .....bfb......bbf........
                .....bfb......bbf........
                ....bbbb......bbbb.......
                ....cccc......cccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                .......cc4e151.....5.....
                ........cc444c.......5...
                ......1bfccffc.....4..4..
                .....bb1bdcfff..f.5......
                ....1bbb1fddffffff4......
                ....b1bbfffffffff..4.....
                .....b1cbccfffcbff2524222
                .....cccbcddffcbc........
                ......cbbcdddcbcc...5....
                .......ccd5dcc...........
                .......5ccccc5...........
                ......fbbbbbbb...........
                .....fddddbbddd..........
                ....fdddcccccddd.........
                .....d5cc...cc5dd........
                .....ccc.....cccc........
                .....bfb......bbf........
                .....bfb......bbf........
                ....bbbb......bbbb.......
                ....cccc......cccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                .......cc4e151.......5...
                ........cc444c.....4.....
                ......1bfcccff...........
                .....bb1bdccfff..f.......
                ....1bbb1ffddffffff......
                ....b1bbffffffffff....4..
                .....b1ccbccfffcbff222222
                .....cccbbcddffcbc..5....
                ......cbbbcddc.bcc....5..
                .......ccd5dcc...........
                .......5ccccc5...........
                ......fbbbbbbb...........
                .....fddddbbddd..........
                ....fdddcccccddd.........
                .....d5cc...cc5dd........
                .....ccc.....cccc........
                .....bfb......bbf........
                .....bfb......bbf........
                ....bbbb......bbbb.......
                ....cccc......cccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                .......cc4e151...........
                ........cc444c...........
                ......1bfcccff...........
                .....bb1bdccfff..f.......
                ....1bbb1ffddffffff......
                ....b1bbffffffffff.......
                .....b1ccbccfffbcff222222
                .....cccbbcddffbc........
                ......cbbbcddcbcc........
                .......ccd5dcc...........
                .......5ccccc5...........
                ......fbbbbbbb...........
                .....fddddbbddd..........
                ....fdddcccccddd.........
                .....d5cc...cc5dd........
                .....ccc.....cccc........
                .....bfb......bbf........
                .....bfb......bbf........
                ....bbbb......bbbb.......
                ....cccc......cccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                .......cc4e151...........
                ........cc444c...........
                ......1bfcccff...........
                .....bb1bdccfff..f.......
                ....1bbb1ffddffffff......
                ....b1bbffffffffff.......
                .....b1ccbccfffcbff222222
                .....cccbbcddffcbc.......
                ......cbbbcddc.bcc.......
                .......ccd5dcc...........
                .......5ccccc5...........
                ......fbbbbbbb...........
                .....fddddbbddd..........
                ....fdddcccccddd.........
                .....d5cc...cc5dd........
                .....ccc.....cccc........
                .....bfb......bbf........
                .....bfb......bbf........
                ....bbbb......bbbb.......
                ....cccc......cccc.......
                `],
            100,
            false
            )
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, 150, 0)
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, 150, 10)
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, 150, -10)
            shell.setKind(SpriteKind.bullet)
        } else if (character.matchesRule(player1, character.rule(Predicate.MovingRight))) {
            animation.runImageAnimation(
            player1,
            [img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515........4..
                .......cc4e151...........
                ........cc444c.......5...
                ......1bfcccff.....5.....
                .....bb1bdccfff..f.4...4.
                ....1bbb1ffddffffff......
                ....b1bbffffffffff..5....
                .....b1ccbccfffcbff222222
                .....cccbbcddffcbc.......
                ......cbbbcddc.bcc....4..
                .......ccd5dcc.....5.....
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbddd..........
                ......fddccccddd.........
                ......fd5c..cc5dd........
                .......ccc...cccc........
                .......bfb....bbf........
                .......bfb....bbf........
                .......bbb....bbbb.......
                .......ccc....cccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                .......cc4e151......5....
                ........cc444c.......4...
                ......1bfccffc...........
                .....bb1bdcfff..f.5......
                ....1bbb1fddffffff.......
                ....b1bbfffffffff...4....
                .....b1cbccfffcbff2222222
                .....cccbcddffcbc..5.....
                ......cbbcdddcbcc....4...
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbdd...........
                ......fddccccd...........
                ......fd5c.cc5...........
                .......ccc.ccc...........
                .......bbf.bbf...........
                .......bbfbbf............
                .......bbbbbb............
                .......cccccc............
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                .......cc4e151........5..
                ........cc444c...........
                ......1bfcccff.....5.....
                .....bb1bdccfff..f....4..
                ....1bbb1ffddffffff.4....
                ....b1bbffffffffff.......
                .....b1ccbccfffcbff222222
                .....cccbbcddffcbc.4.....
                ......cbbbcddc.bcc...5...
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......ffdddbbd...........
                ......ffddcccd...........
                ......ffd5ccc5...........
                .......ccccccc...........
                ........bbbbf............
                .........bbfb............
                ........bbbbbb...........
                ........cccccc...........
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                .......cc4e151...........
                ........cc444c...........
                ......1bfcccff...........
                .....bb1bdccfff..f.......
                ....1bbb1ffddffffff......
                ....b1bbffffffffff.......
                .....b1ccbccfffcbff222222
                .....cccbbcddffcbc.......
                ......cbbbcddc.bcc.......
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbdd...........
                ......fddccccd...........
                ......fd5c.cc5...........
                .......ccc.ccc...........
                .......bbf.bbf...........
                .......bbfbbf............
                .......bbbbbb............
                .......cccccc............
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                .......cc4e151...........
                ........cc444c...........
                ......1bfcccff...........
                .....bb1bdccfff..f.......
                ....1bbb1ffddffffff......
                ....b1bbffffffffff.......
                .....b1ccbccfffbcff222222
                .....cccbbcddffbc........
                ......cbbbcddcbcc........
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbddd..........
                ......fddccccddd.........
                ......fd5c..cc5dd........
                .......ccc...cccc........
                .......bfb....bbf........
                .......bfb....bbf........
                .......bbb....bbbb.......
                .......ccc....cccc.......
                `],
            100,
            false
            )
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, 150, 0)
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, 150, 10)
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, 150, -10)
            shell.setKind(SpriteKind.bullet)
        } else if (character.matchesRule(player1, character.rule(Predicate.MovingLeft))) {
            animation.runImageAnimation(
            player1,
            [img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ..4........5155e4ff......
                ...........151e4cc.......
                ...5.......c444cc........
                .....5.....ffcccfb1......
                .4...4.f..fffccdb1bb.....
                ......ffffffddff1bbb1....
                ....5..ffffffffffbb1b....
                222222ffbcfffccbcc1b.....
                .......cbcffddcbbccc.....
                ..4....ccb.cddcbbbc......
                .....5.....ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ..........dddbbdddf......
                .........dddccccddf......
                ........dd5cc..c5df......
                ........cccc...ccc.......
                ........fbb....bfb.......
                ........fbb....bfb.......
                .......bbbb....bbb.......
                .......cccc....ccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ....5......151e4cc.......
                ...4.......c444cc........
                ...........cffccfb1......
                ......5.f..fffcdb1bb.....
                .......ffffffddf1bbb1....
                ....4...fffffffffbb1b....
                2222222ffbcfffccbc1b.....
                .....5..cbcffddcbccc.....
                ...4....ccbcdddcbbc......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ...........ddbbdddf......
                ...........dccccddf......
                ...........5cc.c5df......
                ...........ccc.ccc.......
                ...........fbb.fbb.......
                ............fbbfbb.......
                ............bbbbbb.......
                ............cccccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ..5........151e4cc.......
                ...........c444cc........
                .....5.....ffcccfb1......
                ..4....f..fffccdb1bb.....
                ....4.ffffffddff1bbb1....
                .......ffffffffffbb1b....
                222222ffbcfffccbcc1b.....
                .....4.cbcffddcbbccc.....
                ...5...ccb.cddcbbbc......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ...........dbbdddff......
                ...........dcccddff......
                ...........5ccc5dff......
                ...........ccccccc.......
                ............fbbbb........
                ............bfbb.........
                ...........bbbbbb........
                ...........cccccc........
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ...........151e4cc.......
                ...........c444cc........
                ...........ffcccfb1......
                .......f..fffccdb1bb.....
                ......ffffffddff1bbb1....
                .......ffffffffffbb1b....
                222222ffbcfffccbcc1b.....
                .......cbcffddcbbccc.....
                .......ccb.cddcbbbc......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ...........ddbbdddf......
                ...........dccccddf......
                ...........5cc.c5df......
                ...........ccc.ccc.......
                ...........fbb.fbb.......
                ............fbbfbb.......
                ............bbbbbb.......
                ............cccccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ...........151e4cc.......
                ...........c444cc........
                ...........ffcccfb1......
                .......f..fffccdb1bb.....
                ......ffffffddff1bbb1....
                .......ffffffffffbb1b....
                222222ffcbfffccbcc1b.....
                ........cbffddcbbccc.....
                ........ccbcddcbbbc......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ..........dddbbdddf......
                .........dddccccddf......
                ........dd5cc..c5df......
                ........cccc...ccc.......
                ........fbb....bfb.......
                ........fbb....bfb.......
                .......bbbb....bbb.......
                .......cccc....ccc.......
                `],
            100,
            false
            )
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, -150, 0)
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, -150, -10)
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, -150, 10)
            shell.setKind(SpriteKind.bullet)
        } else if (character.matchesRule(player1, character.rule(Predicate.Moving, Predicate.FacingLeft))) {
            animation.runImageAnimation(
            player1,
            [img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                .....5.....151e4cc.......
                ..4........c444cc........
                ...........ffcccfb1......
                .......f..fffccdb1bb.....
                .5....ffffffddff1bbb1....
                .......ffffffffffbb1b....
                222222ffbcfffccbcc1b.....
                ...4...cbcffddcbbccc.....
                .......ccb.cddcbbbc......
                .....5.....cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ...........ddbbdddf......
                ...........dccccddf......
                ...........5cc.c5df......
                ...........ccc.ccc.......
                ...........fbb.fbb.......
                ............fbbfbb.......
                ............bbbbbb.......
                ............cccccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ...........151e4cc.......
                ....4......c444cc........
                ...5.......cffccfb1......
                ......5.f..fffcdb1bb.....
                ..4....ffffffddf1bbb1....
                ........fffffffffbb1b....
                2222222ffbcfffccbc1b.....
                ...4....cbcffddcbccc.....
                .....5..ccbcdddcbbc......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ...........ddbbdddf......
                ...........dccccddf......
                ...........5cc.c5df......
                ...........ccc.ccc.......
                ...........fbb.fbb.......
                ............fbbfbb.......
                ............bbbbbb.......
                ............cccccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ...........151e4cc.......
                .....5.....c444cc........
                ...4.......ffcccfb1......
                .......f..fffccdb1bb.....
                ......ffffffddff1bbb1....
                ..5....ffffffffffbb1b....
                222222ffbcfffccbcc1b.....
                .......cbcffddcbbccc.....
                ....4..ccb.cddcbbbc......
                .....5.....cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ...........ddbbdddf......
                ...........dccccddf......
                ...........5cc.c5df......
                ...........ccc.ccc.......
                ...........fbb.fbb.......
                ............fbbfbb.......
                ............bbbbbb.......
                ............cccccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ...........151e4cc.......
                ...........c444cc........
                ...........ffcccfb1......
                .......f..fffccdb1bb.....
                ......ffffffddff1bbb1....
                .......ffffffffffbb1b....
                222222ffcbfffccbcc1b.....
                ........cbffddcbbccc.....
                ........ccbcddcbbbc......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ...........ddbbdddf......
                ...........dccccddf......
                ...........5cc.c5df......
                ...........ccc.ccc.......
                ...........fbb.fbb.......
                ............fbbfbb.......
                ............bbbbbb.......
                ............cccccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ...........151e4cc.......
                ...........c444cc........
                ...........ffcccfb1......
                .......f..fffccdb1bb.....
                ......ffffffddff1bbb1....
                .......ffffffffffbb1b....
                222222ffbcfffccbcc1b.....
                .......cbcffddcbbccc.....
                .......ccb.cddcbbbc......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ...........ddbbdddf......
                ...........dccccddf......
                ...........5cc.c5df......
                ...........ccc.ccc.......
                ...........fbb.fbb.......
                ............fbbfbb.......
                ............bbbbbb.......
                ............cccccc.......
                `],
            100,
            false
            )
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, -150, 0)
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, -150, 10)
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, -150, -10)
            shell.setKind(SpriteKind.bullet)
        } else {
            animation.runImageAnimation(
            player1,
            [img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                .......cc4e151.....5.....
                ........cc444c........4..
                ......1bfcccff...........
                .....bb1bdccfff..f.......
                ....1bbb1ffddffffff....5.
                ....b1bbffffffffff.......
                .....b1ccbccfffcbff222222
                .....cccbbcddffcbc...4...
                ......cbbbcddc.bcc.......
                .......cdddddc.....5.....
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbdd...........
                ......fddccccd...........
                ......fd5c.cc5...........
                .......ccc.ccc...........
                .......bbf.bbf...........
                .......bbfbbf............
                .......bbbbbb............
                .......cccccc............
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                .......cc4e151...........
                ........cc444c......4....
                ......1bfccffc.......5...
                .....bb1bdcfff..f.5......
                ....1bbb1fddffffff....4..
                ....b1bbfffffffff........
                .....b1cbccfffcbff2222222
                .....cccbcddffcbc....4...
                ......cbbcdddcbcc..5.....
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbdd...........
                ......fddccccd...........
                ......fd5c.cc5...........
                .......ccc.ccc...........
                .......bbf.bbf...........
                .......bbfbbf............
                .......bbbbbb............
                .......cccccc............
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                .......cc4e151...........
                ........cc444c.....5.....
                ......1bfcccff.......4...
                .....bb1bdccfff..f.......
                ....1bbb1ffddffffff......
                ....b1bbffffffffff....5..
                .....b1ccbccfffcbff222222
                .....cccbbcddffcbc.......
                ......cbbbcddc.bcc..4....
                .......cdddddc.....5.....
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbdd...........
                ......fddccccd...........
                ......fd5c.cc5...........
                .......ccc.ccc...........
                .......bbf.bbf...........
                .......bbfbbf............
                .......bbbbbb............
                .......cccccc............
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                .......cc4e151...........
                ........cc444c...........
                ......1bfcccff...........
                .....bb1bdccfff..f.......
                ....1bbb1ffddffffff......
                ....b1bbffffffffff.......
                .....b1ccbccfffbcff222222
                .....cccbbcddffbc........
                ......cbbbcddcbcc........
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbdd...........
                ......fddccccd...........
                ......fd5c.cc5...........
                .......ccc.ccc...........
                .......bbf.bbf...........
                .......bbfbbf............
                .......bbbbbb............
                .......cccccc............
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                .......cc4e151...........
                ........cc444c...........
                ......1bfcccff...........
                .....bb1bdccfff..f.......
                ....1bbb1ffddffffff......
                ....b1bbffffffffff.......
                .....b1ccbccfffcbff222222
                .....cccbbcddffcbc.......
                ......cbbbcddc.bcc.......
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbdd...........
                ......fddccccd...........
                ......fd5c.cc5...........
                .......ccc.ccc...........
                .......bbf.bbf...........
                .......bbfbbf............
                .......bbbbbb............
                .......cccccc............
                `],
            100,
            false
            )
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, 150, 0)
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, 150, 10)
            shell = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, 150, -10)
            shell.setKind(SpriteKind.bullet)
        }
    }
})
statusbars.onStatusReached(StatusBarKind.Health, statusbars.StatusComparison.LTE, statusbars.ComparisonType.Percentage, 25, function (status) {
    if (player1.vy == 0 && controller.A.isPressed()) {
        player1.vy = -150
    }
    controller.moveSprite(player1, 60, 0)
})
function spawncombat () {
    for (let value of tiles.getTilesByType(assets.tile`myTile4`)) {
        combat = sprites.create(img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            ........77777dd7dd.7776..
            ........76.7dd77dd..776..
            ........76.dd777dd..7776.
            ........76.dd7dddd..7776.
            .......776.ddddddd..7776.
            ...7777766.bbbdddd..7776.
            ..777766..bbbbbbddd.7776.
            ..7776....b7bbbbbbb.7776.
            .7776...6bb7bb.bbbbb..76.
            .776...67b7bb...bbbb.....
            .776..677bbbb...77bb.....
            ..776677.bbb.....7777....
            ..77777..ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `, SpriteKind.combatform)
        tiles.placeOnRandomTile(combat, assets.tile`myTile4`)
        tiles.setTileAt(value, assets.tile`transparency16`)
        statusbar = statusbars.create(20, 4, StatusBarKind.EnemyHealth)
        statusbar.attachToSprite(combat)
    }
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (player1.vy == 0) {
        player1.vy = -210
    }
})
function rocket_bar () {
    mag = 5
    rocketbar = statusbars.create(40, 4, StatusBarKind.power)
    rocketbar.value = 100
    rocketbar.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
    rocketbar.setOffsetPadding(0, 15)
    rocketbar.setColor(9, 12, 6)
    rocketbar.positionDirection(CollisionDirection.Top)
    rocketbar.setLabel("RPG")
    mag = 100
}
statusbars.onStatusReached(StatusBarKind.Health, statusbars.StatusComparison.LTE, statusbars.ComparisonType.Percentage, 50, function (status) {
    if (player1.vy == 0 && controller.A.isPressed()) {
        player1.vy = -180
    }
    controller.moveSprite(player1, 90, 0)
})
function spawnbolt () {
	
}
sprites.onOverlap(SpriteKind.combatform, SpriteKind.Player, function (sprite, otherSprite) {
    if (character.matchesRule(otherSprite, character.rule(Predicate.FacingLeft))) {
        otherSprite.x += 40
    } else {
        otherSprite.x += -40
    }
    if (character.matchesRule(sprite, character.rule(Predicate.FacingRight))) {
        animation.runImageAnimation(
        sprite,
        [img`
            .........................
            .........22..............
            .........662.............
            .........266.............
            ...........6..77777......
            ...........676666677.....
            ...........676766667.....
            ...........767788867.....
            ..........78668818867....
            .........767766818877....
            .........77766681866.....
            .......dd786668888866.22.
            ......dddd8866668867.666.
            .....6dddd6866676667..222
            ...6677dddd88667777......
            ...6777dddd666767........
            ..6777.dd7dd77777........
            ..677..dd77dd7.67........
            .6777..dd777dd.67........
            .6777..dddd7dd.67........
            .6777..ddddddd.677.......
            .6777..ddddbbb.6677777...
            .6777.dddbbbbbb..667777..
            .6777.bbbbbbb7b....6777..
            .67..bbbbb.bb7bb6...6777.
            .....bbbb...bb7b76...677.
            .....bb77...bbbb776..677.
            ....7777.....bbb.776677..
            ....cccc.....ccc..77777..
            ....ccc......cccc........
            ....ccc......cccc........
            ....cccc.....ccccc.......
            ....ffff.....fffff.......
            `,img`
            .........................
            .........22..............
            .........662.............
            .........266.............
            ...........6..77777......
            ...........676666677.....
            ...........676766667.....
            ...........767788867.....
            ..........78668818867....
            .........767766818877....
            .........77766681866.....
            .......dd786668888866.22.
            ......dddd8866668867.666.
            .....6dddd6866676667..222
            ...6677dddd88667777......
            ...6777dddd666767........
            ..6777.dd7dd77777........
            ..677..dd77dd7.67........
            .6777..dd777dd.677.......
            .6777..dddd7dd.677.......
            .6777..ddddddd.66777.....
            .6777..ddddbbb...6777....
            .6777.dddbbbbbb...67777..
            .6777.bbbbbbb7b.6..66677.
            .67..bbbbb.bb7bb76...677.
            .....bbbb...bb7b776..677.
            .....bb77...bbbb77766677.
            ....7777.....bbb.777777..
            ....cccc.....ccc...777...
            ....ccc......cccc........
            ....ccc......cccc........
            ....cccc.....ccccc.......
            ....ffff.....fffff.......
            `,img`
            .........................
            .........22..............
            .........662.............
            .........266.............
            ...........6..77777......
            ...........676666677.....
            ...........676766667.....
            ...........767788867.....
            ..........78668818867....
            .........767766818877....
            .........77766681866.....
            .......dd786668888866.22.
            ......dddd8866668867.666.
            .....6dddd6866676667..222
            ...6677dddd88667777......
            ...6777dddd666767........
            ..6777.dd7dd77777........
            ..677..dd77dd7.67........
            .6777..dd777dd.677..7777.
            .6777..dddd7dd.6777777777
            .6777..ddddddd.6677776677
            .6777..ddddbbb...6666..67
            .6777.dddbbbbbb........67
            .6777.bbbbbbb7b........67
            .67..bbbbb.bb7bb......667
            .....bbbb...bb7b....66677
            .....bb77...bbbb....7777.
            ....7777.....bbb.........
            ....cccc.....ccc.........
            ....ccc......cccc........
            ....ccc......cccc........
            ....cccc.....ccccc.......
            ....ffff.....fffff.......
            `,img`
            .........................
            .........22..............
            .........662.............
            .........266.............
            ...........6..77777......
            ...........676666677.....
            ...........676766667.....
            ...........767788867.....
            ..........78668818867....
            .........767766818877....
            .........77766681866.....
            .......dd786668888866.22.
            ......dddd8866668867.666.
            .....6dddd6866676667..222
            ...6677dddd88667777......
            ...6777dddd666767........
            ..6777.dd7dd77777.....777
            ..677..dd77dd7.67..777777
            .6777..dd777dd.6777766667
            .6777..dddd7dd.677666..67
            .6777..ddddddd.666.....67
            .6777..ddddbbb........67.
            .6777.dddbbbbbb....66677.
            .6777.bbbbbbb7b....7777..
            .67..bbbbb.bb7bb.........
            .....bbbb...bb7b.........
            .....bb77...bbbb.........
            ....7777.....bbb.........
            ....cccc.....ccc.........
            ....ccc......cccc........
            ....ccc......cccc........
            ....cccc.....ccccc.......
            ....ffff.....fffff.......
            `,img`
            .........................
            .........22..............
            .........662.............
            .........266.............
            ...........6..77777......
            ...........676666677.....
            ...........676766667.....
            ...........767788867.....
            ..........78668818867....
            .........767766818877....
            .........77766681866.....
            .......dd786668888866.22.
            ......dddd8866668867.666.
            .....6dddd6866676667..222
            ...6677dddd88667777......
            ...6777dddd666767........
            ..6777.dd7dd77777........
            ..677..dd77dd7.67........
            .6777..dd777dd.677..7777.
            .6777..dddd7dd.6777777777
            .6777..ddddddd.6677776677
            .6777..ddddbbb...6666..67
            .6777.dddbbbbbb........67
            .6777.bbbbbbb7b........67
            .67..bbbbb.bb7bb......667
            .....bbbb...bb7b....66677
            .....bb77...bbbb....7777.
            ....7777.....bbb.........
            ....cccc.....ccc.........
            ....ccc......cccc........
            ....ccc......cccc........
            ....cccc.....ccccc.......
            ....ffff.....fffff.......
            `,img`
            .........................
            .........22..............
            .........662.............
            .........266.............
            ...........6..77777......
            ...........676666677.....
            ...........676766667.....
            ...........767788867.....
            ..........78668818867....
            .........767766818877....
            .........77766681866.....
            .......dd786668888866.22.
            ......dddd8866668867.666.
            .....6dddd6866676667..222
            ...6677dddd88667777......
            ...6777dddd666767........
            ..6777.dd7dd77777........
            ..677..dd77dd7.67........
            .6777..dd777dd.677.......
            .6777..dddd7dd.677.......
            .6777..ddddddd.66777.....
            .6777..ddddbbb...6777....
            .6777.dddbbbbbb...67777..
            .6777.bbbbbbb7b.6..66677.
            .67..bbbbb.bb7bb76...677.
            .....bbbb...bb7b776..677.
            .....bb77...bbbb77766677.
            ....7777.....bbb.777777..
            ....cccc.....ccc...777...
            ....ccc......cccc........
            ....ccc......cccc........
            ....cccc.....ccccc.......
            ....ffff.....fffff.......
            `,img`
            .........................
            .........22..............
            .........662.............
            .........266.............
            ...........6..77777......
            ...........676666677.....
            ...........676766667.....
            ...........767788867.....
            ..........78668818867....
            .........767766818877....
            .........77766681866.....
            .......dd786668888866.22.
            ......dddd8866668867.666.
            .....6dddd6866676667..222
            ...6677dddd88667777......
            ...6777dddd666767........
            ..6777.dd7dd77777........
            ..677..dd77dd7.67........
            .6777..dd777dd.67........
            .6777..dddd7dd.67........
            .6777..ddddddd.677.......
            .6777..ddddbbb.6677777...
            .6777.dddbbbbbb..667777..
            .6777.bbbbbbb7b....6777..
            .67..bbbbb.bb7bb6...6777.
            .....bbbb...bb7b76...677.
            .....bb77...bbbb776..677.
            ....7777.....bbb.776677..
            ....cccc.....ccc..77777..
            ....ccc......cccc........
            ....ccc......cccc........
            ....cccc.....ccccc.......
            ....ffff.....fffff.......
            `],
        50,
        false
        )
    } else {
        animation.runImageAnimation(
        sprite,
        [img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            ........77777dd7dd.7776..
            ........76.7dd77dd..776..
            ........76.dd777dd..7776.
            ........76.dd7dddd..7776.
            .......776.ddddddd..7776.
            ...7777766.bbbdddd..7776.
            ..777766..bbbbbbddd.7776.
            ..7776....b7bbbbbbb.7776.
            .7776...6bb7bb.bbbbb..76.
            .776...67b7bb...bbbb.....
            .776..677bbbb...77bb.....
            ..776677.bbb.....7777....
            ..77777..ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `,img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            ........77777dd7dd.7776..
            ........76.7dd77dd..776..
            .......776.dd777dd..7776.
            .......776.dd7dddd..7776.
            .....77766.ddddddd..7776.
            ....7776...bbbdddd..7776.
            ..77776...bbbbbbddd.7776.
            .77666..6.b7bbbbbbb.7776.
            .776...67bb7bb.bbbbb..76.
            .776..677b7bb...bbbb.....
            .77666777bbbb...77bb.....
            ..777777.bbb.....7777....
            ...777...ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `,img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            ........77777dd7dd.7776..
            ........76.7dd77dd..776..
            .7777..776.dd777dd..7776.
            7777777776.dd7dddd..7776.
            7766777766.ddddddd..7776.
            76..6666...bbbdddd..7776.
            76........bbbbbbddd.7776.
            76........b7bbbbbbb.7776.
            766......bb7bb.bbbbb..76.
            77666....b7bb...bbbb.....
            .7777....bbbb...77bb.....
            .........bbb.....7777....
            .........ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `,img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            777.....77777dd7dd.7776..
            777777..76.7dd77dd..776..
            7666677776.dd777dd..7776.
            76..666776.dd7dddd..7776.
            76.....666.ddddddd..7776.
            .76........bbbdddd..7776.
            .77666....bbbbbbddd.7776.
            ..7777....b7bbbbbbb.7776.
            .........bb7bb.bbbbb..76.
            .........b7bb...bbbb.....
            .........bbbb...77bb.....
            .........bbb.....7777....
            .........ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `,img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            ........77777dd7dd.7776..
            ........76.7dd77dd..776..
            .7777..776.dd777dd..7776.
            7777777776.dd7dddd..7776.
            7766777766.ddddddd..7776.
            76..6666...bbbdddd..7776.
            76........bbbbbbddd.7776.
            76........b7bbbbbbb.7776.
            766......bb7bb.bbbbb..76.
            77666....b7bb...bbbb.....
            .7777....bbbb...77bb.....
            .........bbb.....7777....
            .........ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `,img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            ........77777dd7dd.7776..
            ........76.7dd77dd..776..
            .......776.dd777dd..7776.
            .......776.dd7dddd..7776.
            .....77766.ddddddd..7776.
            ....7776...bbbdddd..7776.
            ..77776...bbbbbbddd.7776.
            .77666..6.b7bbbbbbb.7776.
            .776...67bb7bb.bbbbb..76.
            .776..677b7bb...bbbb.....
            .77666777bbbb...77bb.....
            ..777777.bbb.....7777....
            ...777...ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `,img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            ........77777dd7dd.7776..
            ........76.7dd77dd..776..
            ........76.dd777dd..7776.
            ........76.dd7dddd..7776.
            .......776.ddddddd..7776.
            ...7777766.bbbdddd..7776.
            ..777766..bbbbbbddd.7776.
            ..7776....b7bbbbbbb.7776.
            .7776...6bb7bb.bbbbb..76.
            .776...67b7bb...bbbb.....
            .776..677bbbb...77bb.....
            ..776677.bbb.....7777....
            ..77777..ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `],
        50,
        false
        )
    }
    playerhealth.value += -5
    scene.cameraShake(3, 500)
})
statusbars.onZero(StatusBarKind.EnemyHealth, function (status) {
    status.spriteAttachedTo().destroy(effects.disintegrate, 500)
})
sprites.onOverlap(SpriteKind.bullet, SpriteKind.combatform, function (sprite, otherSprite) {
    sprite.destroy(effects.ashes, 100)
    statusbars.getStatusBarAttachedTo(StatusBarKind.EnemyHealth, otherSprite).value += -30
    info.changeScoreBy(1)
})
statusbars.onZero(StatusBarKind.Health, function (status) {
    story.startCutscene(function () {
        kill_all()
        tiles.setTilemap(tilemap`level6`)
        story.printCharacterText("YOU DIED")
        story.showPlayerChoices("RESTART LEVEL", "GAME OVER")
        if (story.checkLastAnswer("RESTART LEVEL") && level == 0) {
            level = 0
            rocket_bar()
            shield2()
            ammo_bar()
            spawncombat()
            spawnplayer1()
            startlevel()
        }
        if (story.checkLastAnswer("RESTART LEVEL") && level == 1) {
            level = 1
            rocket_bar()
            shield2()
            ammo_bar()
            spawncombat()
            spawnplayer1()
            startlevel()
        }
        if (story.checkLastAnswer("RESTART LEVEL") && level == 2) {
            level = 2
            rocket_bar()
            shield2()
            ammo_bar()
            spawncombat()
            spawnplayer1()
            startlevel()
        }
        if (story.checkLastAnswer("RESTART LEVEL") && level == 3) {
            level = 3
            rocket_bar()
            shield2()
            ammo_bar()
            spawncombat()
            spawnplayer1()
            startlevel()
        }
        if (story.checkLastAnswer("RESTART LEVEL") && level == 4) {
            level = 4
            shield2()
            rocket_bar()
            ammo_bar()
            spawncombat()
            spawnplayer1()
            startlevel()
        }
        if (story.checkLastAnswer("GAME OVER")) {
            game.over(false)
        }
    })
})
controller.player2.onButtonEvent(ControllerButton.Right, ControllerButtonEvent.Pressed, function () {
    mag += -35
    rocketbar.value += -35
    if (mag > -5) {
        if (character.matchesRule(player1, character.rule(Predicate.NotMoving, Predicate.FacingLeft))) {
            animation.runImageAnimation(
            player1,
            [img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ....c......151fffff......
                ....cdddddddddf11ffddddc.
                ....cbbbbbbbbbfff1fbbbbc.
                ....c...fffffffffffb.....
                ........cbcfddfd1bbb1....
                ........cbcfcccbcbb1b....
                ........ccbfddcbbc1b.....
                ...........cddcbbbc......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbbf......
                ..........dddbbddddf.....
                .........dddcccccdddf....
                ........dd5cc...cc5d.....
                ........cccc.....ccc.....
                ........fbb......bfb.....
                ........fbb......bfb.....
                .......bbbb......bbbb....
                .......cccc......cccc....
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                .4...5.....111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                .5...c.....151efffff.....
                .....cdddddddddf11ffddddc
                .....cbbbbbbbbbfff1fbbbbc
                .....c...fffffffffffb....
                ..4......cbcfddfd1bbb1...
                .........cbcfcccbcbb1b...
                .........ccbfddcbbc1b....
                ...5.......cdddcbbbc.....
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbbf......
                ..........dddbbddddf.....
                .........dddcccccdddf....
                ........dd5cc...cc5d.....
                ........cccc.....ccc.....
                ........fbb......bfb.....
                ........fbb......bfb.....
                .......bbbb......bbbb....
                .......cccc......cccc....
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ...5.......44444c........
                ...........111e54c.......
                .....4.....1111e45f......
                ...........5155e4ff......
                ....c......151fffff......
                ....cdddddddddf11ffddddc.
                ....cbbbbbbbbbfff1fbbbbc.
                ....c...fffffffffffb.....
                ........cbcfddfd1bbb1....
                .4......cbcfcccbcbb1b....
                ......4.ccbfddcbbc1b.....
                ...5.......cddcbbbc......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbbf......
                ..........dddbbddddf.....
                .........dddcccccdddf....
                ........dd5cc...cc5d.....
                ........cccc.....ccc.....
                ........fbb......bfb.....
                ........fbb......bfb.....
                .......bbbb......bbbb....
                .......cccc......cccc....
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ....c......151fffff......
                ....cdddddddddf11ffddddc.
                ....cbbbbbbbbbfff1fbbbbc.
                ....c...fffffffffffb.....
                ........cbcfddfd1bbb1....
                ........cbcfcccbcbb1b....
                ........ccbfddcbbc1b.....
                ...........cddcbbbc......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbbf......
                ..........dddbbddddf.....
                .........dddcccccdddf....
                ........dd5cc...cc5d.....
                ........cccc.....ccc.....
                ........fbb......bfb.....
                ........fbb......bfb.....
                .......bbbb......bbbb....
                .......cccc......cccc....
                `],
            100,
            false
            )
            boomza = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . 2 2 b c c c b c . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, -150, 0)
            boomza.setKind(SpriteKind.boom)
            boomza.startEffect(effects.trail, 2000)
        } else if (character.matchesRule(player1, character.rule(Predicate.NotMoving, Predicate.FacingRight))) {
            animation.runImageAnimation(
            player1,
            [img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                ......fffff151......c....
                .cddddff11fdddddddddc....
                .cbbbbf1fffbbbbbbbbbc....
                .....bfffffffffff...c....
                ....1bbb1dfddfcbc........
                ....b1bbcbcccfcbc........
                .....b1cbbcddfbcc........
                ......cbbbcddc...........
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                ......fbbbbbbb...........
                .....fddddbbddd..........
                ....fdddcccccddd.........
                .....d5cc...cc5dd........
                .....ccc.....cccc........
                .....bfb......bbf........
                .....bfb......bbf........
                ....bbbb......bbbb.......
                ....cccc......cccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111.....5...4.
                ......f54e1111...........
                ......ff4e5515...........
                .....fffffe151.....c...5.
                cddddff11fdddddddddc.....
                cbbbbf1fffbbbbbbbbbc.....
                ....bfffffffffff...c.....
                ...1bbb1dfddfcbc......4..
                ...b1bbcbcccfcbc.........
                ....b1cbbcddfbcc.........
                .....cbbbcdddc.......5...
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                ......fbbbbbbb...........
                .....fddddbbddd..........
                ....fdddcccccddd.........
                .....d5cc...cc5dd........
                .....ccc.....cccc........
                .....bfb......bbf........
                .....bfb......bbf........
                ....bbbb......bbbb.......
                ....cccc......cccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444.......5...
                .......c45e111...........
                ......f54e1111.....4.....
                ......ff4e5515...........
                ......fffff151......c....
                .cddddff11fdddddddddc....
                .cbbbbf1fffbbbbbbbbbc....
                .....bfffffffffff...c....
                ....1bbb1dfddfcbc........
                ....b1bbcbcccfcbc......4.
                .....b1cbbcddfbcc.4......
                ......cbbbcddc.......5...
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                ......fbbbbbbb...........
                .....fddddbbddd..........
                ....fdddcccccddd.........
                .....d5cc...cc5dd........
                .....ccc.....cccc........
                .....bfb......bbf........
                .....bfb......bbf........
                ....bbbb......bbbb.......
                ....cccc......cccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                ......fffff151......c....
                .cddddff11fdddddddddc....
                .cbbbbf1fffbbbbbbbbbc....
                .....bfffffffffff...c....
                ....1bbb1dfddfcbc........
                ....b1bbcbcccfcbc........
                .....b1cbbcddfbcc........
                ......cbbbcddc...........
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                ......fbbbbbbb...........
                .....fddddbbddd..........
                ....fdddcccccddd.........
                .....d5cc...cc5dd........
                .....ccc.....cccc........
                .....bfb......bbf........
                .....bfb......bbf........
                ....bbbb......bbbb.......
                ....cccc......cccc.......
                `],
            100,
            false
            )
            boomza = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . c b c c c b 2 2 . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, 150, 0)
            boomza.setKind(SpriteKind.boom)
            boomza.startEffect(effects.trail, 2000)
        } else if (character.matchesRule(player1, character.rule(Predicate.MovingRight))) {
            animation.runImageAnimation(
            player1,
            [img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                ......fffff151......c....
                .cddddff11fdddddddddc....
                .cbbbbf1fffbbbbbbbbbc....
                .....bfffffffffff...c....
                ....1bbb1dfddfcbc........
                ....b1bbcbcccfcbc........
                .....b1cbbcddfbcc........
                ......cbbbcddc...........
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbddd..........
                ......fddccccddd.........
                ......fd5c..cc5dd........
                .......ccc...cccc........
                .......bfb....bbf........
                .......bfb....bbf........
                .......bbb....bbbb.......
                .......ccc....cccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111.....5...4.
                ......f54e1111...........
                ......ff4e5515......4....
                .....fffffe151.....c.....
                cddddff11fdddddddddc...5.
                cbbbbf1fffbbbbbbbbbc.....
                ....bfffffffffff...c.4...
                ...1bbb1dfddfcbc.........
                ...b1bbcbcccfcbc.......4.
                ....b1cbbcddfbcc.........
                .....cbbbcdddc.....5.....
                .......cdddddc...........
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbdd...........
                ......fddccccd...........
                ......fd5c.cc5...........
                .......ccc.ccc...........
                .......bfb.bbf...........
                .......bfbbbf............
                .......bbbbbb............
                .......cccccc............
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111..........5
                ......f54e1111........4..
                ......ff4e5515...........
                ......fffff151......c....
                .cddddff11fdddddddddc....
                .cbbbbf1fffbbbbbbbbbc..4.
                .....bfffffffffff...c....
                ....1bbb1dfddfcbc........
                ....b1bbcbcccfcbc...4..5.
                .....b1cbbcddfbcc........
                ......cbbbcddc...........
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......ffdddbbd...........
                ......ffddcccd...........
                ......ffd5ccc5...........
                .......ccccccc...........
                ........bbbbf............
                .........bbfb............
                ........bbbbbb...........
                ........cccccc...........
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                ......fffff151......c....
                .cddddff11fdddddddddc....
                .cbbbbf1fffbbbbbbbbbc....
                .....bfffffffffff...c....
                ....1bbb1dfddfcbc........
                ....b1bbcbcccfcbc........
                .....b1cbbcddfbcc........
                ......cbbbcddc...........
                .......cdddddc...........
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbdd...........
                ......fddccccd...........
                ......fd5c.cc5...........
                .......ccc.ccc...........
                .......bfb.bbf...........
                .......bfbbbf............
                .......bbbbbb............
                .......cccccc............
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                ......fffff151......c....
                .cddddff11fdddddddddc....
                .cbbbbf1fffbbbbbbbbbc....
                .....bfffffffffff...c....
                ....1bbb1dfddfcbc........
                ....b1bbcbcccfcbc........
                .....b1cbbcddfbcc........
                ......cbbbcddc...........
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbddd..........
                ......fddccccddd.........
                ......fd5c..cc5dd........
                .......ccc...cccc........
                .......bfb....bbf........
                .......bfb....bbf........
                .......bbb....bbbb.......
                .......ccc....cccc.......
                `],
            100,
            false
            )
            boomza = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . c b c c c b 2 2 . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, 150, 0)
            boomza.setKind(SpriteKind.boom)
            boomza.startEffect(effects.trail, 2000)
        } else if (character.matchesRule(player1, character.rule(Predicate.MovingLeft))) {
            animation.runImageAnimation(
            player1,
            [img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ....c......151fffff......
                ....cdddddddddf11ffddddc.
                ....cbbbbbbbbbfff1fbbbbc.
                ....c...fffffffffffb.....
                ........cbcfddfd1bbb1....
                ........cbcfcccbcbb1b....
                ........ccbfddcbbc1b.....
                ...........cddcbbbc......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ..........dddbbdddf......
                .........dddccccddf......
                ........dd5cc..c5df......
                ........cccc...ccc.......
                ........fbb....bfb.......
                ........fbb....bfb.......
                .......bbbb....bbb.......
                .......cccc....ccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                .4...5.....111e54c.......
                ...........1111e45f......
                ....4......5155e4ff......
                .....c.....151efffff.....
                .5...cdddddddddf11ffddddc
                .....cbbbbbbbbbfff1fbbbbc
                ...4.c...fffffffffffb....
                .........cbcfddfd1bbb1...
                .4.......cbcfcccbcbb1b...
                .........ccbfddcbbc1b....
                .....5.....cdddcbbbc.....
                ...........cdddddc.......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ...........ddbbdddf......
                ...........dccccddf......
                ...........5cc.c5df......
                ...........ccc.ccc.......
                ...........fbb.bfb.......
                ............fbbbfb.......
                ............bbbbbb.......
                ............cccccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                5..........111e54c.......
                ..4........1111e45f......
                ...........5155e4ff......
                ....c......151fffff......
                ....cdddddddddf11ffddddc.
                .4..cbbbbbbbbbfff1fbbbbc.
                ....c...fffffffffffb.....
                ........cbcfddfd1bbb1....
                .5..4...cbcfcccbcbb1b....
                ........ccbfddcbbc1b.....
                ...........cddcbbbc......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ...........dbbdddff......
                ...........dcccddff......
                ...........5ccc5dff......
                ...........ccccccc.......
                ............fbbbb........
                ............bfbb.........
                ...........bbbbbb........
                ...........cccccc........
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ....c......151fffff......
                ....cdddddddddf11ffddddc.
                ....cbbbbbbbbbfff1fbbbbc.
                ....c...fffffffffffb.....
                ........cbcfddfd1bbb1....
                ........cbcfcccbcbb1b....
                ........ccbfddcbbc1b.....
                ...........cddcbbbc......
                ...........cdddddc.......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ...........ddbbdddf......
                ...........dccccddf......
                ...........5cc.c5df......
                ...........ccc.ccc.......
                ...........fbb.bfb.......
                ............fbbbfb.......
                ............bbbbbb.......
                ............cccccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ....c......151fffff......
                ....cdddddddddf11ffddddc.
                ....cbbbbbbbbbfff1fbbbbc.
                ....c...fffffffffffb.....
                ........cbcfddfd1bbb1....
                ........cbcfcccbcbb1b....
                ........ccbfddcbbc1b.....
                ...........cddcbbbc......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ..........dddbbdddf......
                .........dddccccddf......
                ........dd5cc..c5df......
                ........cccc...ccc.......
                ........fbb....bfb.......
                ........fbb....bfb.......
                .......bbbb....bbb.......
                .......cccc....ccc.......
                `],
            100,
            false
            )
            boomza = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . 2 2 b c c c b c . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, -150, 0)
            boomza.setKind(SpriteKind.boom)
            boomza.startEffect(effects.trail, 2000)
        } else if (character.matchesRule(player1, character.rule(Predicate.MovingUp, Predicate.FacingLeft))) {
            animation.runImageAnimation(
            player1,
            [img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ....c......151fffff......
                ....cdddddddddf11ffddddc.
                ....cbbbbbbbbbfff1fbbbbc.
                ....c...fffffffffffb.....
                ........cbcfddfd1bbb1....
                ........cbcfcccbcbb1b....
                ........ccbfddcbbc1b.....
                ...........cddcbbbc......
                ...........cdddddc.......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ...........ddbbdddf......
                ...........dccccddf......
                ...........5cc.c5df......
                ...........ccc.ccc.......
                ...........fbb.fbb.......
                ............fbbfbb.......
                ............bbbbbb.......
                ............cccccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ...5.......44444c........
                .4.........111e54c.......
                ...........1111e45f......
                ....4......5155e4ff......
                .....c.....151efffff.....
                .....cdddddddddf11ffddddc
                .....cbbbbbbbbbfff1fbbbbc
                4..5.c...fffffffffffb....
                .........cbcfddfd1bbb1...
                .........cbcfcccbcbb1b...
                ...4.....ccbfddcbbc1b....
                ...........cdddcbbbc.....
                ...........cdddddc.......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ...........ddbbdddf......
                ...........dccccddf......
                ...........5cc.c5df......
                ...........ccc.ccc.......
                ...........fbb.fbb.......
                ............fbbfbb.......
                ............bbbbbb.......
                ............cccccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                .....5.....111e54c.......
                .5.........1111e45f......
                ...........5155e4ff......
                ....c......151fffff......
                ....cdddddddddf11ffddddc.
                ....cbbbbbbbbbfff1fbbbbc.
                ....c...fffffffffffb.....
                .4......cbcfddfd1bbb1....
                ........cbcfcccbcbb1b....
                ..5.....ccbfddcbbc1b.....
                ...........cddcbbbc......
                ...........cdddddc.......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ...........ddbbdddf......
                ...........dccccddf......
                ...........5cc.c5df......
                ...........ccc.ccc.......
                ...........fbb.fbb.......
                ............fbbfbb.......
                ............bbbbbb.......
                ............cccccc.......
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ...........44444c........
                ...........111e54c.......
                ...........1111e45f......
                ...........5155e4ff......
                ....c......151fffff......
                ....cdddddddddf11ffddddc.
                ....cbbbbbbbbbfff1fbbbbc.
                ....c...fffffffffffb.....
                ........cbcfddfd1bbb1....
                ........cbcfcccbcbb1b....
                ........ccbfddcbbc1b.....
                ...........cddcbbbc......
                ...........cdddddc.......
                ...........cdddddc.......
                ...........ccd5dcc.......
                ...........5ccccc5.......
                ...........bbbbbbb.......
                ...........ddbbdddf......
                ...........dccccddf......
                ...........5cc.c5df......
                ...........ccc.ccc.......
                ...........fbb.fbb.......
                ............fbbfbb.......
                ............bbbbbb.......
                ............cccccc.......
                `],
            100,
            false
            )
            boomza = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . 2 2 b c c c b c . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, -150, 0)
            boomza.setKind(SpriteKind.boom)
            boomza.startEffect(effects.trail, 2000)
        } else {
            animation.runImageAnimation(
            player1,
            [img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                ......fffff151......c....
                .cddddff11fdddddddddc....
                .cbbbbf1fffbbbbbbbbbc....
                .....bfffffffffff...c....
                ....1bbb1dfddfcbc........
                ....b1bbcbcccfcbc........
                .....b1cbbcddfbcc........
                ......cbbbcddc...........
                .......cdddddc...........
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbdd...........
                ......fddccccd...........
                ......fd5c.cc5...........
                .......ccc.ccc...........
                .......bbf.bbf...........
                .......bbfbbf............
                .......bbbbbb............
                .......cccccc............
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444.......5...
                .......c45e111.........4.
                ......f54e1111...........
                ......ff4e5515......4....
                .....fffffe151.....c.....
                cddddff11fdddddddddc.....
                cbbbbf1fffbbbbbbbbbc.....
                ....bfffffffffff...c.5..4
                ...1bbb1dfddfcbc.........
                ...b1bbcbcccfcbc.........
                ....b1cbbcddfbcc.....4...
                .....cbbbcdddc...........
                .......cdddddc...........
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbdd...........
                ......fddccccd...........
                ......fd5c.cc5...........
                .......ccc.ccc...........
                .......bbf.bbf...........
                .......bbfbbf............
                .......bbbbbb............
                .......cccccc............
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111.....5.....
                ......f54e1111.........5.
                ......ff4e5515...........
                ......fffff151......c....
                .cddddff11fdddddddddc....
                .cbbbbf1fffbbbbbbbbbc....
                .....bfffffffffff...c....
                ....1bbb1dfddfcbc......4.
                ....b1bbcbcccfcbc........
                .....b1cbbcddfbcc.....5..
                ......cbbbcddc...........
                .......cdddddc...........
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbdd...........
                ......fddccccd...........
                ......fd5c.cc5...........
                .......ccc.ccc...........
                .......bbf.bbf...........
                .......bbfbbf............
                .......bbbbbb............
                .......cccccc............
                `,img`
                .........................
                .........................
                .........................
                .........................
                .........................
                ........c44444...........
                .......c45e111...........
                ......f54e1111...........
                ......ff4e5515...........
                ......fffff151......c....
                .cddddff11fdddddddddc....
                .cbbbbf1fffbbbbbbbbbc....
                .....bfffffffffff...c....
                ....1bbb1dfddfcbc........
                ....b1bbcbcccfcbc........
                .....b1cbbcddfbcc........
                ......cbbbcddc...........
                .......cdddddc...........
                .......cdddddc...........
                .......ccd5dcc...........
                .......5ccccc5...........
                .......bbbbbbb...........
                ......fdddbbdd...........
                ......fddccccd...........
                ......fd5c.cc5...........
                .......ccc.ccc...........
                .......bbf.bbf...........
                .......bbfbbf............
                .......bbbbbb............
                .......cccccc............
                `],
            100,
            false
            )
            boomza = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . c b c c c b 2 2 . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, player1, 150, 0)
            boomza.setKind(SpriteKind.boom)
            boomza.startEffect(effects.trail, 2000)
        }
    }
})
function kill_all () {
    tiles.destroySpritesOfKind(SpriteKind.Player)
    tiles.destroySpritesOfKind(SpriteKind.combatform)
    tiles.destroySpritesOfKind(SpriteKind.Bolt)
    tiles.destroySpritesOfKind(SpriteKind.Gooper)
    tiles.destroySpritesOfKind(SpriteKind.Charger)
    tiles.destroySpritesOfKind(SpriteKind.Drone)
    tiles.destroySpritesOfKind(SpriteKind.EMPI)
    tiles.destroySpritesOfKind(SpriteKind.F1)
    tiles.destroySpritesOfKind(SpriteKind.F2)
    tiles.destroySpritesOfKind(SpriteKind.F3)
    tiles.destroySpritesOfKind(SpriteKind.F5)
    tiles.destroySpritesOfKind(SpriteKind.Boss)
    tiles.destroySpritesOfKind(SpriteKind.StatusBar)
    tiles.destroySpritesOfKind(SpriteKind.bullet)
    tiles.destroySpritesOfKind(SpriteKind.boom)
}
function spawncharger () {
	
}
function spawnmboss5 () {
	
}
statusbars.onZero(StatusBarKind.power, function (status) {
    player1.sayText("Rockets out!", 1000, false)
    pause(5000)
    mag = 100
    rocketbar.value = 100
})
function spawngooper () {
	
}
function startlevel () {
    if (level == 0) {
        tiles.setTilemap(tilemap`level1`)
        spawncombat()
    } else if (level == 1) {
        tiles.setTilemap(tilemap`level2`)
    } else if (level == 2) {
        tiles.setTilemap(tilemap`level3`)
        multilights.addFlashLightSource(
        player1,
        0,
        120,
        30
        )
    } else if (level == 3) {
        tiles.setTilemap(tilemap`level4`)
    } else if (level == 4) {
        tiles.setTilemap(tilemap`level5`)
    } else {
        game.over(true, effects.confetti)
    }
    for (let value of tiles.getTilesByType(assets.tile`myTile3`)) {
        tiles.placeOnRandomTile(player1, assets.tile`myTile3`)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    for (let value of sprites.allOfKind(SpriteKind.Enemy)) {
        value.destroy()
    }
}
function ammo_bar () {
    ammo = 5
    ammobar = statusbars.create(50, 4, StatusBarKind.Energy)
    ammobar.value = 100
    ammobar.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
    ammobar.setColor(5, 12, 4)
    ammobar.setOffsetPadding(0, 5)
    ammobar.positionDirection(CollisionDirection.Top)
    ammobar.setLabel("Ammo")
    ammo = 100
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Player, function (sprite, otherSprite) {
    otherSprite.destroy()
    for (let value of tiles.getTilesByType(assets.tile`myTile0`)) {
        turret = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . b b b b b b b b c . . . 
            . . . . b b b b b b b b c . . . 
            . . . . b b 1 1 1 b b b c . . . 
            . . . . b b b b 1 1 b b c . . . 
            . . . . b b b b b b b b c . . . 
            . . . . b b b b b b b b c . . . 
            . . . . . . . c c . . . . . . . 
            . . . . . . c c c . . . . . . . 
            . . . . . c c c . . . . . . . . 
            . . . . . c c . . . . . . . . . 
            . . f f f f f f f f f . . . . . 
            `, SpriteKind.cannon)
        tiles.placeOnTile(turret, value)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
})
function spawnmboss1 () {
	
}
function spawnEMPI () {
	
}
function shield2 () {
    armour = statusbars.create(4, 30, StatusBarKind.shield)
    armour.value = 100
    armour.setColor(1, 12, 13)
    armour.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
    armour.positionDirection(CollisionDirection.Left)
    armour.setLabel("AP")
}
statusbars.onZero(StatusBarKind.Energy, function (status) {
    player1.sayText("Changing mag!", 1000, false)
    pause(2000)
    ammo = 100
    ammobar.value = 100
})
sprites.onOverlap(SpriteKind.boom, SpriteKind.combatform, function (sprite, otherSprite) {
    sprite.destroy(effects.fire, 100)
    statusbars.getStatusBarAttachedTo(StatusBarKind.EnemyHealth, otherSprite).value += -100
    info.changeScoreBy(5)
})
function spawndrone () {
	
}
let armour: StatusBarSprite = null
let turret: Sprite = null
let boomza: Sprite = null
let level = 0
let rocketbar: StatusBarSprite = null
let mag = 0
let statusbar: StatusBarSprite = null
let combat: Sprite = null
let shell: Sprite = null
let ammobar: StatusBarSprite = null
let ammo = 0
let player1: Sprite = null
let playerhealth: StatusBarSprite = null
color.setColor(11, color.rgb(27, 27, 27))
color.setColor(12, color.rgb(42, 42, 42))
color.setColor(14, color.rgb(475, 475, 475))
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    .........cccccccccccccc.......ccccccccccccccccc......ccccccccccc.......cccccc......cccccc...ccccccccc....ccccccccccccccccc...cccccc..........cccccc.............
    ......cccccccccccccccccccc.cccccccccccccccccccccc..ccccccccccccccc..ccccccccccc.cccccccccccccccccccccccccccccccccccccccccccccccccccccc.....ccccccccccc..........
    .....cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc...ccccccccccccc.........
    .....cccbbbbbbbcbbbbbbbbcccccbbbbbbbcbbbbbbbbbbccccccbbbbbcbbbbbccccccbbbbbbccccccbbbbbbcccbbbbbbbbbbbccbbbbbbbbbbbbbbbbbcccbbbbbbbccccccccccbbbbbbcccccc.......
    .....cccd111111d11111111bccccd111111d1111111111ccccc111111d111111ccccb111111dccccb111111bcc1111111111dcc111111d1111111111bcc1111111dccccccccb111111bcccbcc......
    .....cccd111111d111111111bcccd111111d1111111111cccc1111111d1111111cccb111111dccccb111111bcc1111111111dcc111111d1111111111bccd1111111bccccccbd111111bcccbbcc.....
    .....cccd111111d1111111111bccd111111d1111111111ccc11111111d11111111ccb111111dccccb111111bcc1111111111dcc111111d1111111111bcc11111111dcccccb1d111111bcccdbcc.....
    .....cccd111111b11111111111ccd111111b1111111111cc111111111b11111111dcb111111dccccb111111bcc1111111111dcc111111dd111111111bcc111111111bccccd1d111111bcccdbbc.....
    .....cccd111111bccccd111111ccd111111bcccb111111cc1111111ccccc111111dcb111111dccccb111111bcccb1111111bccc111111dcccc111111bcc1111111111cccb11d111111bcccdbbc.....
    .....cccd111111bccccd111111ccd111111bcccbddddddcc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111dccccddddddbcc1111111111dcc111d111111bcccdbbc.....
    .....cccd111111bccccd111111ccd111111bcccccccccccc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111dccccccccccccc11111111111bd111d111111bcccdbbc.....
    .....cccd111111bccccd111111ccd111111111111ccccccc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111111111dccccccc1111111111111111d111111bcccdbbc.....
    .....cccd111111bccccd111111ccd111111111111bcccccc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111111111dccccccc1111111111111111d111111bcccdbbc.....
    .....cccd111111b11111111111ccd111111111111bcccccc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111111111dccccccc1111111111111111d111111bcccdbbc.....
    .....cccd111111d1111111111bccd111111111111bcccccc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111111111dccccccc1111111111111111d111111bcccdbbc.....
    .....cccd111111d111111111bcccd111111bbbbbbccccccc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111dbbbbbcccccccc111111d111111111d111111bcccdbbc.....
    .....cccd111111d1111ddb1dccccd111111bccccbbbbbccc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111dccccbbbbbbccc111111bd1111111bb111111bcccdbbc.....
    .....cccd111111bbb1111111ccccd111111bccc1111111cc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111dcccb111111bcc111111bb111111dcb111111bcccdbbc.....
    .....cccd111111bccd111111dcccd111111bbbb1111111cc1111111bbbbb111111dcb111111dbbbbd111111bccbd1111111dbcc111111dbbbd111111bcc111111bcd11111bcb111111bcccdbbc.....
    .....cccd111111bccb1111111bccd111111d1111111111ccd11111111111111111bcc111111111d11111111bcc1111111111dcc111111d1111111111bcc111111bcc1111dccb111111bcccdbbc.....
    .....cccd111111bcccd111111dccd111111d1111111111cccd111111111111111dcccc11111111d1111111bccc1111111111dcc111111d1111111111bcc111111bccb111cccb111111bcccdbbc.....
    .....cccd111111bcccb1111111bcd111111d1111111111ccccd1111111111111dcccccc1111111d111111bcccc1111111111dcc111111d1111111111bcc111111bccc11bcccb111111bcccdbbc.....
    .....cccd111111cccccd111111dcd111111b1111111111cccccd11111111111dcccccccc11111dd11111bccccc1111111111dcc111111d1111111111bcc111111bcccb1ccccb111111bcccdbbc.....
    .....ccccccccccccccccccccccccccccccccccccccccccccccccccccc11111111cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccdbbc.....
    .....ccccccccccccccccccccccccccccccccccccccccccccccccccccccd1111111cccbccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccdbbc.....
    ......cccccccccccbcccccccccccccccccccccccccccccccbbcccccccccd11111bcccbbcccccccccccccccbdcccccccccccccccccccccccccccccccccccccccccccccccccbcccccccccccddbbc.....
    .......ccccccccbdddbbccccccbbccccccccccccccccccbddbbbccccccccd111bccccdbbbcccccccccccbddddbccccccccccbbbccccccccccccccccccbbccccccbbddbbbdddbccccccbbdddbcc.....
    ........cbbddddddddbbbbdddddbbbbdddddddddddddddddbbbbbbddcccccd1bccccbddbbbbdddddddddddddbbbbbdddddddddbbbbddddddddddddddddbbbbddddddddbbbdbbbbddddddddbbcc.....
    ........ccbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcccbbbbcccccbccccbddbbbcbbbbbbbbbbbbbbbcccbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcc......
    .........cccccccccccccccccccccccccccccccccccccccccccccccccbccccccccbdddbccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc.......
    ...........ccccccc......cccc....cccccccccccccccccc......ccccccccccbdddbbcc...ccccccccccc......ccccccccc....cccccccccccccccc....ccccccc..........ccccccc.........
    ............................................................ccccbbdddbbcc.......................................................................................
    .............................................................ccbbddbbbcc........................................................................................
    ..............................................................ccbbbbccc.........................................................................................
    ...............................................................ccccccc..........................................................................................
    ..................................................................c.............................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `)
pause(2000)
scene.setBackgroundColor(3)
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `)
multilights.toggleLighting(false)
spawnplayer1()
shield2()
ammo_bar()
rocket_bar()
startlevel()
game.onUpdate(function () {
    player1.ay = 500
})
game.onUpdate(function () {
    for (let value of sprites.allOfKind(SpriteKind.combatform)) {
        if (value.vx > 1) {
            value.setImage(img`
                .........................
                .........22..............
                .........662.............
                .........266.............
                ...........6..77777......
                ...........676666677.....
                ...........676766667.....
                ...........767788867.....
                ..........78668818867....
                .........767766818877....
                .........77766681866.....
                .......dd786668888866.22.
                ......dddd8866668867.666.
                .....6dddd6866676667..222
                ...6677dddd88667777......
                ...6777dddd666767........
                ..6777.dd7dd77777........
                ..677..dd77dd7.67........
                .6777..dd777dd.67........
                .6777..dddd7dd.67........
                .6777..ddddddd.677.......
                .6777..ddddbbb.6677777...
                .6777.dddbbbbbb..667777..
                .6777.bbbbbbb7b....6777..
                .67..bbbbb.bb7bb6...6777.
                .....bbbb...bb7b76...677.
                .....bb77...bbbb776..677.
                ....7777.....bbb.776677..
                ....cccc.....ccc..77777..
                ....ccc......cccc........
                ....ccc......cccc........
                ....cccc.....ccccc.......
                ....ffff.....fffff.......
                `)
        } else if (value.vx < -1) {
            value.setImage(img`
                .........................
                ..............22.........
                .............266.........
                .............662.........
                ......77777..6...........
                .....776666676...........
                .....766667676...........
                .....768887767...........
                ....76881886687..........
                ....778818667767.........
                .....66818666777.........
                .22.668888866687dd.......
                .666.7688666688dddd......
                222..7666766686dddd6.....
                ......77776688dddd7766...
                ........767666dddd7776...
                ........77777dd7dd.7776..
                ........76.7dd77dd..776..
                ........76.dd777dd..7776.
                ........76.dd7dddd..7776.
                .......776.ddddddd..7776.
                ...7777766.bbbdddd..7776.
                ..777766..bbbbbbddd.7776.
                ..7776....b7bbbbbbb.7776.
                .7776...6bb7bb.bbbbb..76.
                .776...67b7bb...bbbb.....
                .776..677bbbb...77bb.....
                ..776677.bbb.....7777....
                ..77777..ccc.....cccc....
                ........cccc......ccc....
                ........cccc......ccc....
                .......ccccc.....cccc....
                .......fffff.....ffff....
                `)
        }
        if (sight.isInSight(
        value,
        player1,
        80,
        false
        )) {
            value.follow(player1, 50)
        } else {
            value.follow(player1, 0)
        }
    }
})
game.onUpdateInterval(5000, function () {
	
})
game.onUpdateInterval(3000, function () {
    if (armour.value > -500) {
        armour.value += 20
    } else {
        armour.value += 0
    }
})
